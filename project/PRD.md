# CityInfo 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
CityInfo 是一个面向国外游客的中国城市旅游信息展示平台，通过提供丰富、优质的旅游内容和信息，吸引潜在游客并收集用户联系方式，为合作旅行社提供精准的客户线索，实现引流变现。

### 1.2 目标用户
- **主要用户**：计划或正在访问中国的国外游客
- **次要用户**：旅行社、酒店、景点、餐厅等服务提供商
- **用户特征**：
  - 对中国文化和旅游景点感兴趣
  - 需要英文服务和信息
  - 习惯使用移动设备和在线服务
  - 重视服务质量和用户评价

### 1.3 商业模式
- **线索分发模式**：收集用户旅游需求和联系方式，向合作旅行社分发客户线索
- **广告展示模式**：为旅行社、酒店、景点提供内容推广位
- **内容合作模式**：与旅行社合作制作优质旅游内容
- **数据服务模式**：为合作伙伴提供用户行为和需求分析

## 2. 当前功能现状

### 2.1 已实现功能
- ✅ 城市列表展示
- ✅ 城市详情页面
- ✅ 景点、餐厅、酒店基础信息展示
- ✅ 多语言支持（中英文）
- ✅ 响应式设计

### 2.2 功能缺失分析
当前网站仅提供基础的信息展示，缺乏丰富的内容体系、用户互动机制、线索收集功能等核心引流要素。

## 3. 核心功能需求

### 3.1 内容管理系统 (P2)

#### 3.1.1 丰富的旅游内容
- **需求描述**：提供全面、优质的中国旅游信息内容
- **功能点**：
  - 城市深度介绍（历史文化、特色美食、必游景点）
  - 旅游攻略和行程推荐
  - 实用旅游贴士（交通、住宿、购物）
  - 文化背景和风俗介绍
  - 季节性旅游指南
- **商业价值**：吸引用户访问，建立专业形象，提升SEO排名

#### 3.1.2 多媒体内容展示
- **需求描述**：丰富的视觉内容展示
- **功能点**：
  - 高质量图片画廊
  - 视频介绍和虚拟游览
  - 360度全景展示
  - 用户分享的照片和视频
- **商业价值**：增强用户体验，提高页面停留时间

### 3.2 线索收集系统 (P0 - 最高优先级)

#### 3.2.1 旅游需求收集

##### 3.2.1.1 智能旅游意向调查表单
- **需求描述**：通过分步式表单收集用户详细旅游需求
- **功能设计**：
  - **多步骤表单设计**：
    - 第1步：基础信息（姓名、邮箱、国籍、语言偏好）
    - 第2步：旅游基本信息（目的地偏好、出行时间、旅行天数）
    - 第3步：详细需求（预算范围、住宿偏好、交通方式、特殊需求）
    - 第4步：兴趣偏好（文化体验、美食探索、自然风光、购物娱乐）
    - 第5步：联系方式确认和营销同意
  - **表单优化策略**：
    - 进度条显示完成度
    - 每步不超过3-4个字段
    - 智能默认值和预填充
    - 实时验证和错误提示
    - 支持保存草稿和断点续填
- **数据收集字段**：
  ```
  基础信息：
  - 姓名 (必填)
  - 邮箱 (必填)
  - 手机号 (选填)
  - 国籍 (必填)
  - 年龄段 (选填)
  - 语言偏好 (必填)
  
  旅游信息：
  - 计划访问城市 (多选)
  - 出行时间 (日期范围)
  - 旅行天数 (选择)
  - 同行人数 (数字)
  - 同行人类型 (家庭/朋友/情侣/独自)
  
  需求偏好：
  - 预算范围 (区间选择)
  - 住宿类型偏好 (酒店/民宿/青旅)
  - 交通偏好 (高铁/飞机/自驾)
  - 餐饮偏好 (传统中餐/国际化/素食等)
  - 特殊需求 (无障碍/儿童友好/宠物友好)
  
  兴趣标签：
  - 文化历史 (古迹/博物馆/传统文化)
  - 自然风光 (山水/海滨/森林)
  - 美食体验 (街头小吃/高端餐厅/烹饪课程)
  - 娱乐活动 (购物/夜生活/演出)
  - 体验活动 (功夫/茶艺/书法)
  ```
- **技术实现**：
  - 使用React Hook Form进行表单管理
  - 实现表单数据本地存储（localStorage）
  - 集成表单验证库（Yup或Joi）
  - 支持多语言表单标签
  - 实现表单分析和A/B测试
- **用户体验设计**：
  - 响应式设计，支持移动端操作
  - 清晰的视觉层次和引导
  - 友好的错误提示和帮助文本
  - 完成后的感谢页面和后续引导
- **商业价值**：核心商业模式，为旅行社提供精准客户线索

##### 3.2.1.2 行程定制需求收集
- **需求描述**：针对有明确行程规划需求的用户，收集详细定制信息
- **功能设计**：
  - **定制需求表单**：
    - 详细行程描述文本框
    - 必游景点选择（基于城市）
    - 住宿标准和位置偏好
    - 用餐安排偏好
    - 购物和娱乐需求
    - 导游服务需求（中文/英文/其他语言）
  - **预算规划工具**：
    - 总预算输入
    - 预算分配建议（住宿40%、餐饮25%、交通20%、景点15%）
    - 预算范围滑块选择
    - 性价比偏好设置
  - **时间规划助手**：
    - 可视化日程安排界面
    - 拖拽式行程规划
    - 时间冲突检测
    - 合理性建议提示
- **数据结构设计**：
  ```json
  {
    "customization_request": {
      "trip_description": "string",
      "must_visit_attractions": ["attraction_id"],
      "accommodation_preference": {
        "type": "hotel/hostel/bnb",
        "star_rating": "3-5",
        "location_preference": "city_center/scenic_area/transport_hub"
      },
      "dining_preference": {
        "meal_types": ["local_cuisine", "international"],
        "dietary_restrictions": ["vegetarian", "halal", "kosher"],
        "budget_level": "budget/mid-range/luxury"
      },
      "guide_service": {
        "required": true,
        "language": "english/chinese/other",
        "type": "private/group"
      },
      "budget_allocation": {
        "total_budget": 5000,
        "currency": "USD",
        "allocation": {
          "accommodation": 40,
          "dining": 25,
          "transportation": 20,
          "attractions": 15
        }
      }
    }
  }
  ```
- **技术实现**：
  - 集成富文本编辑器（Quill.js）
  - 实现拖拽式日程规划组件
  - 集成地图API显示景点位置
  - 实现预算计算器组件
- **商业价值**：提供高价值线索，适合高端定制旅游服务

##### 3.2.1.3 快速兴趣收集
- **需求描述**：为不愿填写长表单的用户提供快速兴趣收集方式
- **功能设计**：
  - **一键兴趣标签**：
    - 预设兴趣标签云
    - 点击选择感兴趣的标签
    - 最多选择5-8个标签
    - 动态推荐相关标签
  - **图片选择式调研**：
    - 展示不同类型的旅游场景图片
    - 用户点击喜欢的图片
    - 基于选择分析用户偏好
    - 生成个性化推荐
  - **滑动卡片式选择**：
    - Tinder式的滑动选择界面
    - 左滑不感兴趣，右滑感兴趣
    - 快速收集大量偏好数据
    - 游戏化的用户体验
- **数据收集策略**：
  - 隐式数据收集（浏览行为、停留时间）
  - 显式数据收集（点击、选择、评分）
  - 渐进式信息收集（逐步引导用户提供更多信息）
- **技术实现**：
  - 实现卡片滑动组件（React Spring）
  - 集成图片懒加载和优化
  - 实现标签云组件
  - 用户行为数据埋点
- **商业价值**：降低用户参与门槛，扩大线索收集范围

#### 3.2.2 咨询和联系功能

##### 3.2.2.1 多渠道在线咨询系统
- **需求描述**：提供多种便捷的用户咨询渠道
- **功能设计**：
  - **智能在线咨询表单**：
    - 分类咨询类型（行程规划/价格咨询/签证信息/其他）
    - 智能问题推荐（基于用户浏览历史）
    - 紧急程度标记
    - 文件上传功能（行程草案、参考图片）
    - 自动回复和预期响应时间告知
  - **实时聊天窗口**：
    - 浮动聊天按钮
    - 智能客服机器人（FAQ自动回答）
    - 人工客服转接
    - 聊天记录保存
    - 多语言支持
  - **视频咨询预约**：
    - 在线预约视频咨询时间
    - 时区自动转换
    - 日历集成
    - 提醒通知功能
    - 视频会议链接自动生成
- **技术实现**：
  - 集成WebSocket实现实时聊天
  - 使用WebRTC实现视频通话
  - 集成日历API（Google Calendar）
  - 实现智能客服机器人（基于关键词匹配）
  - 邮件通知系统
- **数据收集**：
  ```json
  {
    "consultation_request": {
      "type": "itinerary/pricing/visa/other",
      "urgency": "low/medium/high",
      "subject": "string",
      "message": "string",
      "attachments": ["file_urls"],
      "preferred_contact_method": "email/phone/video",
      "preferred_contact_time": "timezone_aware_datetime",
      "user_context": {
        "viewed_cities": ["city_ids"],
        "viewed_attractions": ["attraction_ids"],
        "session_duration": "minutes"
      }
    }
  }
  ```
- **商业价值**：提高用户咨询转化率，收集高意向用户信息

##### 3.2.2.2 回调预约系统
- **需求描述**：为偏好电话沟通的用户提供回调预约服务
- **功能设计**：
  - **智能时间选择**：
    - 基于用户时区显示可用时间
    - 工作日/周末时间选择
    - 时长预估（15分钟/30分钟/1小时）
    - 语言偏好选择
  - **预约确认流程**：
    - 短信/邮件确认
    - 日历邀请发送
    - 提前24小时和1小时提醒
    - 重新安排和取消功能
  - **通话准备信息**：
    - 用户基本信息预填充
    - 浏览历史和兴趣标签
    - 预设问题和话术建议
    - 通话记录模板
- **技术实现**：
  - 集成日程管理系统
  - 短信API集成（Twilio）
  - 邮件模板系统
  - CRM系统集成
- **商业价值**：提供个性化服务，提高高价值客户转化率

##### 3.2.2.3 邮件营销和订阅系统
- **需求描述**：通过邮件营销培育潜在客户
- **功能设计**：
  - **智能邮件订阅**：
    - 基于用户兴趣的内容订阅
    - 订阅频率选择（每日/每周/每月）
    - 内容类型选择（攻略/优惠/新闻）
    - 一键退订功能
  - **个性化邮件内容**：
    - 基于用户浏览历史推荐内容
    - 季节性旅游推荐
    - 限时优惠和活动通知
    - 用户生成内容分享
  - **邮件自动化流程**：
    - 欢迎邮件序列
    - 行为触发邮件（浏览后未咨询）
    - 重新激活邮件（长期未活跃用户）
    - 生日和节日祝福邮件
- **邮件模板设计**：
  - 响应式邮件模板
  - 品牌一致性设计
  - 清晰的CTA按钮
  - 社交媒体链接
- **技术实现**：
  - 邮件服务提供商集成（SendGrid/Mailchimp）
  - 邮件模板引擎
  - 用户分群和标签系统
  - 邮件效果分析（打开率、点击率）
- **商业价值**：建立长期客户关系，提高品牌认知度

##### 3.2.2.4 社交媒体联系方式
- **需求描述**：提供用户熟悉的社交媒体联系方式
- **功能设计**：
  - **微信联系**：
    - 微信二维码展示
    - 微信群邀请链接
    - 微信小程序集成
  - **WhatsApp联系**：
    - 一键WhatsApp联系按钮
    - 预设消息模板
    - WhatsApp Business API集成
  - **其他社交平台**：
    - Facebook Messenger
    - Telegram
    - Line（针对日韩用户）
    - Instagram私信
- **技术实现**：
  - 社交媒体API集成
  - 深度链接实现
  - 二维码生成器
  - 消息模板管理
- **商业价值**：降低联系门槛，适应不同地区用户习惯

#### 3.2.3 线索质量评估和管理

##### 3.2.3.1 线索评分系统
- **需求描述**：自动评估线索质量，优先处理高价值客户
- **评分维度**：
  - **基础信息完整度** (20分)：
    - 联系方式完整性 (10分)
    - 个人信息详细程度 (10分)
  - **旅游需求明确度** (30分)：
    - 目的地确定性 (10分)
    - 时间确定性 (10分)
    - 预算明确性 (10分)
  - **购买意向强度** (30分)：
    - 咨询主动性 (15分)
    - 回复及时性 (15分)
  - **商业价值潜力** (20分)：
    - 预算水平 (15分)
    - 推荐可能性 (5分)
- **技术实现**：
  - 机器学习模型训练
  - 实时评分计算
  - 评分历史追踪
  - 评分规则可配置

##### 3.2.3.2 线索分发系统
- **需求描述**：将线索智能分发给合适的旅行社合作伙伴
- **分发规则**：
  - 地域匹配（旅行社专长城市）
  - 服务类型匹配（高端/经济/主题旅游）
  - 语言能力匹配
  - 历史成功率考虑
  - 负载均衡
- **技术实现**：
  - 规则引擎系统
  - 合作伙伴管理系统
  - 分发记录追踪
  - 效果反馈收集

#### 3.2.4 数据隐私和合规

##### 3.2.4.1 数据保护措施
- **GDPR合规**：
  - 明确的数据收集同意
  - 数据使用目的说明
  - 用户数据访问权限
  - 数据删除请求处理
- **数据安全**：
  - 数据加密存储
  - 访问权限控制
  - 数据传输加密
  - 定期安全审计

##### 3.2.4.2 用户同意管理
- **同意收集**：
  - 分层同意机制
  - 同意记录保存
  - 同意撤回功能
  - 同意状态追踪
- **透明度保证**：
  - 清晰的隐私政策
  - 数据使用说明
  - 第三方分享告知
  - 用户权利说明

### 3.3 用户互动系统 (P0 - 最高优先级)

#### 3.3.1 用户评价和分享
- **需求描述**：用户生成内容和互动
- **功能点**：
  - 景点和城市评价
  - 旅游经历分享
  - 照片和视频上传
  - 评论和点赞功能
- **商业价值**：增加用户粘性，丰富网站内容，提升可信度

### 3.4 搜索和筛选系统 (P1 - 高优先级)

#### 3.4.1 智能搜索
- **需求描述**：帮助用户快速找到感兴趣的内容
- **功能点**：
  - 关键词搜索
  - 分类筛选（城市、景点类型、活动等）
  - 搜索建议和自动补全
  - 热门搜索推荐
- **商业价值**：提高用户体验，增加内容曝光

#### 3.4.2 个性化推荐
- **需求描述**：基于用户行为的内容推荐
- **功能点**：
  - 基于浏览历史推荐
  - 相关内容推荐
  - 热门内容展示
  - 季节性推荐
- **商业价值**：提高用户粘性，增加页面浏览量

### 3.5 营销和推广系统 (P1 - 高优先级)

#### 3.5.1 内容营销
- **需求描述**：通过优质内容吸引用户
- **功能点**：
  - SEO优化的文章内容
  - 社交媒体分享功能
  - 邮件营销内容
  - 合作伙伴内容展示
- **商业价值**：提高网站流量，扩大品牌影响力

#### 3.5.2 线索转化优化
- **需求描述**：提高访客到线索的转化率
- **功能点**：
  - 引导性CTA按钮
  - 弹窗和浮层提示
  - 优惠活动展示
  - 紧迫感营造
- **商业价值**：提高线索收集效率，增加收入

### 3.6 地图和位置服务 (P2 - 中优先级)

#### 3.6.1 交互式地图
- **需求描述**：直观的地理位置展示
- **功能点**：
  - 景点位置标注
  - 城市地图概览
  - 周边景点展示
  - 交通信息标注
- **商业价值**：提升用户体验，帮助用户规划行程

#### 3.6.2 位置相关内容
- **需求描述**：基于地理位置的内容组织
- **功能点**：
  - 按区域分类内容
  - 距离和交通信息
  - 周边推荐
  - 路线建议
- **商业价值**：提供实用信息，增加用户停留时间

### 3.7 简化用户系统 (P2 - 中优先级)

#### 3.7.1 基础用户功能
- **需求描述**：简单的用户管理功能
- **功能点**：
  - 邮箱订阅
  - 基础个人信息收集
  - 浏览历史记录
  - 收藏功能
- **商业价值**：收集用户数据，提供个性化体验

#### 3.7.2 用户偏好收集
- **需求描述**：了解用户旅游偏好
- **功能点**：
  - 兴趣标签选择
  - 旅游类型偏好
  - 预算范围设置
  - 出行时间偏好
- **商业价值**：为旅行社提供精准的客户画像

### 3.8 客服和支持系统 (P3 - 低优先级)

#### 3.8.1 基础客服功能
- **需求描述**：基本的用户支持
- **功能点**：
  - 常见问题FAQ
  - 联系表单
  - 邮件支持
  - 多语言支持
- **商业价值**：提升用户体验，建立信任

#### 3.8.2 自助服务
- **需求描述**：用户自助解决问题
- **功能点**：
  - 帮助文档
  - 视频教程
  - 搜索功能
  - 用户反馈
- **商业价值**：降低客服成本，提高效率

### 3.9 数据分析系统 (P3 - 低优先级)

#### 3.9.1 用户行为分析
- **需求描述**：了解用户使用行为
- **功能点**：
  - 页面访问统计
  - 用户行为轨迹
  - 内容受欢迎程度
  - 线索转化分析
- **商业价值**：优化网站内容，提高转化率

#### 3.9.2 业务数据分析
- **需求描述**：分析业务表现
- **功能点**：
  - 流量来源分析
  - 线索质量评估
  - 合作伙伴效果分析
  - ROI计算
- **商业价值**：支持商业决策，优化运营策略

### 3.10 合作伙伴管理系统 (P3 - 低优先级)

#### 3.10.1 旅行社合作管理
- **需求描述**：管理合作旅行社关系
- **功能点**：
  - 合作伙伴信息管理
  - 线索分发规则
  - 服务质量评估
  - 合作协议管理
- **商业价值**：确保服务质量，维护合作关系

#### 3.10.2 内容合作管理
- **需求描述**：管理内容合作
- **功能点**：
  - 内容供应商管理
  - 内容质量审核
  - 版权管理
  - 内容更新计划
- **商业价值**：保证内容质量，降低法律风险

## 4. 技术架构建议

### 4.1 前端技术栈
- **框架**：React (当前已使用)
- **状态管理**：Context API 或 Redux Toolkit (简化版)
- **UI组件库**：Ant Design 或 Tailwind CSS
- **地图服务**：Google Maps API (基础版)
- **表单处理**：React Hook Form
- **图片处理**：React Image Gallery

### 4.2 后端技术栈
- **框架**：Node.js + Express (当前已使用)
- **数据库**：PostgreSQL (当前已使用)
- **缓存**：Redis (可选，后期添加)
- **文件存储**：本地存储 或 阿里云OSS
- **邮件服务**：Nodemailer
- **表单处理**：Express-validator

### 4.3 第三方服务集成
- **地图服务**：Google Maps (基础功能)
- **邮件服务**：SendGrid 或 阿里云邮件
- **分析工具**：Google Analytics
- **SEO工具**：Google Search Console
- **社交分享**：社交媒体分享API

## 5. 开发计划

### 5.1 第一阶段 (MVP内容平台 - 2个月)
- **内容管理系统**：丰富的旅游内容展示
- **线索收集系统**：表单和联系功能
- **基础用户互动**：评价和分享功能
- **SEO优化**：搜索引擎优化基础
- **响应式设计**：移动端适配

### 5.2 第二阶段 (用户体验优化 - 2个月)
- **搜索和筛选功能**：内容搜索和分类
- **个性化推荐**：基础推荐算法
- **地图集成**：位置展示和导航
- **营销功能**：CTA优化和转化提升
- **用户系统**：简化的用户管理

### 5.3 第三阶段 (数据驱动优化 - 2个月)
- **数据分析系统**：用户行为分析
- **A/B测试**：转化率优化
- **合作伙伴管理**：旅行社对接系统
- **内容运营工具**：内容管理后台
- **性能优化**：网站速度和SEO提升

## 6. 成功指标 (KPI)

### 6.1 流量指标
- 月访问用户数 (MAU)
- 页面浏览量 (PV)
- 平均会话时长
- 跳出率
- 搜索引擎流量占比

### 6.2 线索转化指标
- 线索收集转化率
- 表单提交数量
- 邮件订阅转化率
- 咨询请求数量
- 线索质量评分

### 6.3 内容效果指标
- 内容分享次数
- 用户生成内容数量
- 内容互动率（评论、点赞）
- 热门内容排行
- SEO关键词排名

### 6.4 技术指标
- 页面加载速度 (<3秒)
- 系统可用性 (99.5%+)
- 移动端适配率
- 搜索功能使用率

## 7. 风险评估

### 7.1 技术风险
- 内容管理和更新效率
- 网站性能和加载速度
- SEO优化效果
- 数据安全和隐私保护

### 7.2 市场风险
- 内容同质化竞争
- 用户获取成本上升
- 搜索引擎算法变化
- 旅游市场波动

### 7.3 运营风险
- 内容质量控制
- 线索转化效率
- 合作伙伴依赖
- 用户数据合规性

### 7.4 商业风险
- 线索变现能力
- 旅行社合作稳定性
- 盈利模式验证
- 规模化扩展能力

## 8. 总结

本PRD文档重新定位CityInfo为内容驱动的旅游信息平台，专注于通过优质内容吸引国外游客，收集用户线索并为合作旅行社提供精准客户。

**核心策略**：
- 以内容为核心，建立专业的旅游信息平台
- 通过线索收集实现商业变现
- 简化技术架构，快速迭代验证
- 重视SEO和用户体验，提高自然流量

**实施建议**：
1. 优先完成内容体系建设和线索收集功能
2. 重视数据分析，持续优化转化率
3. 建立与旅行社的合作关系
4. 逐步扩展功能，验证商业模式可行性

通过这种轻量级的MVP模式，可以快速验证市场需求，降低开发成本，为后续功能扩展奠定基础。

---

**文档版本**：v1.0  
**创建日期**：2025年1月  
**负责人**：产品经理  
**审核状态**：待审核